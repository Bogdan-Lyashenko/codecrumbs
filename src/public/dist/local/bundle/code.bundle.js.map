{"version":3,"sources":["webpack://codecrumbs/./js/components/sideBar/component/Code/index.scss","webpack://codecrumbs/./js/components/sideBar/component/Code/index.js","webpack://codecrumbs/./js/components/sideBar/component/Code/index.scss?7735"],"names":["FONT_SIZE","props","dependenciesLines","crumbedLines","codeRef","scrollTo","lines","length","prevProps","fixScroll","code","limitedHeight","classNames","el","atomOneLight","fontSize","lineNumber","isMatchLineNumber","className","React","Component","find"],"mappings":"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","file":"code.bundle.js","sourcesContent":["exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Code {\\n  height: 100%;\\n  position: relative;\\n  overflow: auto; }\\n  .Code .crumbedLine {\\n    display: block;\\n    background-color: rgba(255, 225, 244, 0.8); }\\n  .Code .importedDependencyLine {\\n    display: block;\\n    background-color: rgba(0, 148, 249, 0.1); }\\n  .Code.limitedHeight {\\n    max-height: 200px; }\\n\", \"\"]);\n\n// exports\n","import React from 'react';\nimport classNames from 'classnames';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { atomOneLight } from 'react-syntax-highlighter/styles/hljs';\n\nimport './index.scss';\n\nconst FONT_SIZE = '12px';\n//TODO: add select with several themes\n//TODO: scrool to/highlight crumbed lines\n//https://github.com/conorhastings/react-syntax-highlighter/blob/master/README.md\nexport default class extends React.Component {\n  fixScroll() {\n    const { dependenciesLines = [], crumbedLines = [] } = this.props;\n    if (!this.codeRef || !this.codeRef.scrollTo) {\n      return;\n    }\n\n    const lines = dependenciesLines.length\n      ? dependenciesLines\n      : crumbedLines.length\n        ? crumbedLines\n        : null;\n\n    lines && this.codeRef.scrollTo(0, lines[0][0] * 15 - 5);\n  }\n  componentDidUpdate(prevProps) {\n    this.fixScroll();\n  }\n  componentDidMount() {\n    this.fixScroll();\n  }\n\n  render() {\n    const { code, crumbedLines = [], dependenciesLines = [], limitedHeight } = this.props;\n\n    // TODO: calc height for .Code based on dependenciesLines - it's not always need to be 300 px!!\n    return (\n      <div className={classNames('Code', { limitedHeight })} ref={el => (this.codeRef = el)}>\n        <SyntaxHighlighter\n          language=\"javascript\"\n          style={atomOneLight}\n          showLineNumbers={true}\n          wrapLines={true}\n          customStyle={{ fontSize: FONT_SIZE }}\n          lineProps={lineNumber => {\n            if (isMatchLineNumber(crumbedLines, lineNumber)) {\n              return { className: 'crumbedLine' };\n            }\n\n            if (isMatchLineNumber(dependenciesLines, lineNumber)) {\n              return { className: 'importedDependencyLine' };\n            }\n\n            return {};\n          }}\n        >\n          {code}\n        </SyntaxHighlighter>\n      </div>\n    );\n  }\n}\n\nconst isMatchLineNumber = (lines, lineNumber) =>\n  !!lines.find(lines => {\n    if (lines[0] === lineNumber && lines[1] === lineNumber) {\n      return true;\n    }\n    return lines[0] <= lineNumber && lines[1] >= lineNumber;\n  });\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}